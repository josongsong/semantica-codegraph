# L16 RepoMap ì•Œê³ ë¦¬ì¦˜ ì„ íƒ ê°€ì´ë“œ

**ë‚ ì§œ**: 2025-12-28
**ëª©ì **: ì–¸ì œ ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì„ í™œì„±í™”í• ì§€ ê°€ì´ë“œ

---

## ğŸ“Š 3ê°€ì§€ ì•Œê³ ë¦¬ì¦˜ ë¹„êµ

| ì•Œê³ ë¦¬ì¦˜ | ì—­í•  | ì„±ëŠ¥ ë¹„ìš© | ê¸°ë³¸ê°’ |
|---------|------|-----------|--------|
| **PageRank** | ì „ì—­ ì¤‘ìš”ë„ | 1x (ê¸°ì¤€) | âœ… í•­ìƒ ON |
| **Personalized PageRank** | ì»¨í…ìŠ¤íŠ¸ ì¤‘ìš”ë„ | +2x | âŒ OFF (í•„ìš”ì‹œ ON) |
| **HITS** | Authority/Hub | +2x | âŒ OFF (í•„ìš”ì‹œ ON) |

---

## 1ï¸âƒ£ Standard PageRank (í•­ìƒ í™œì„±í™”)

### ì—­í• 
ì „ì²´ ì½”ë“œë² ì´ìŠ¤ì—ì„œ "ì „ì—­ì ìœ¼ë¡œ ì¤‘ìš”í•œ" íŒŒì¼/í•¨ìˆ˜ ì°¾ê¸°

### ë™ì‘ ì›ë¦¬
```
ë§ì´ ì°¸ì¡°ë˜ëŠ” ì½”ë“œ = ì¤‘ìš”í•œ ì½”ë“œ
```

### ê²°ê³¼ ì˜ˆì‹œ
```
ë†’ì€ ì ìˆ˜:
  - utils/helpers.py (ëª¨ë“  ê³³ì—ì„œ import)
  - models/user.py (ë§ì€ serviceì—ì„œ ì‚¬ìš©)
  - core/database.py (ì „ì—­ ì˜ì¡´ì„±)

ë‚®ì€ ì ìˆ˜:
  - scripts/temp.py (ì•„ë¬´ë„ ì°¸ì¡° ì•ˆ í•¨)
  - tests/old_test.py (ê²©ë¦¬ëœ í…ŒìŠ¤íŠ¸)
```

### ì‚¬ìš© ì‚¬ë¡€
- âœ… ì „ì²´ ë¦¬í¬ì§€í† ë¦¬ ì¤‘ìš”ë„ ë¶„ì„
- âœ… ë¦¬íŒ©í† ë§ ìš°ì„ ìˆœìœ„ (ì¤‘ìš”í•œ ê²ƒë¶€í„°)
- âœ… ì‹ ê·œ ê°œë°œì ì˜¨ë³´ë”© (ì¤‘ìš” íŒŒì¼ ë¨¼ì € ë³´ê¸°)

### ì„¤ì •
```rust
// í•­ìƒ ì‹¤í–‰ë¨ (ë¹„í™œì„±í™” ë¶ˆê°€)
let pagerank = engine.compute_pagerank(&graph);
```

---

## 2ï¸âƒ£ Personalized PageRank (ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜)

### ì—­í• 
**íŠ¹ì • íŒŒì¼/í•¨ìˆ˜ë¥¼ ê¸°ì¤€**ìœ¼ë¡œ ê´€ë ¨ëœ ì½”ë“œë§Œ ì°¾ê¸°

### ë™ì‘ ì›ë¦¬
```
ì‹œì‘ì (Context): auth/login.py
â†“
auth/login.pyì™€ ì—°ê²°ëœ íŒŒì¼ì— ë†’ì€ ì ìˆ˜
â†“
ê´€ë ¨ ì—†ëŠ” íŒŒì¼ì€ ë‚®ì€ ì ìˆ˜
```

### ê²°ê³¼ ì˜ˆì‹œ
```python
# Context: "auth/login.pyì—ì„œ ë²„ê·¸ ë°œê²¬"

ë†’ì€ ì ìˆ˜:
  - auth/session.py (loginì´ ì§ì ‘ í˜¸ì¶œ)
  - middleware/auth.py (loginê³¼ ê°•í•˜ê²Œ ì—°ê²°)
  - models/user.py (loginì´ ì‚¬ìš©)

ë‚®ì€ ì ìˆ˜:
  - payment/stripe.py (authì™€ ë¬´ê´€)
  - admin/dashboard.py (ê´€ë ¨ ì—†ìŒ)
```

### ì‚¬ìš© ì‚¬ë¡€

#### âœ… í™œì„±í™”í•´ì•¼ í•  ë•Œ

**1. AI ì—ì´ì „íŠ¸ ë²„ê·¸ ìˆ˜ì •**
```python
# ë²„ê·¸ íŒŒì¼ ì£¼ë³€ë§Œ íƒìƒ‰
context = ContextSet()
context.add("auth/login.py", weight=1.0)

ppr = engine.compute_personalized_pagerank(graph, context)
# â†’ ê´€ë ¨ íŒŒì¼ë§Œ ë†’ì€ ì ìˆ˜
```

**2. ê¸°ëŠ¥ë³„ ì½”ë“œ íƒìƒ‰**
```python
# "ê²°ì œ ì‹œìŠ¤í…œ"ê³¼ ê´€ë ¨ëœ ëª¨ë“  íŒŒì¼
context = ContextSet()
context.add("payment/checkout.py", weight=1.0)
context.add("payment/stripe.py", weight=0.8)

ppr = engine.compute_personalized_pagerank(graph, context)
```

**3. ì˜í–¥ ë²”ìœ„ ë¶„ì„**
```python
# "ì´ íŒŒì¼ ìˆ˜ì •í•˜ë©´ ì–´ë””ì— ì˜í–¥?"
context = ContextSet()
context.add("models/user.py", weight=1.0)

ppr = engine.compute_personalized_pagerank(graph, context)
# â†’ ì˜í–¥ë°›ì„ íŒŒì¼ë“¤ ìš°ì„ ìˆœìœ„
```

#### âŒ ë¹„í™œì„±í™”í•´ë„ ë˜ëŠ” ê²½ìš°

- ì „ì²´ ë¦¬í¬ì§€í† ë¦¬ ë¶„ì„ (ì»¨í…ìŠ¤íŠ¸ ì—†ìŒ)
- ë‹¨ìˆœ ì¤‘ìš”ë„ ìˆœìœ„ë§Œ í•„ìš”
- ì´ˆê¸° ì¸ë±ì‹± (ë¹ ë¥¸ ì†ë„ ìš°ì„ )

### ì„¤ì •
```rust
// í•„ìš”í•  ë•Œ í™œì„±í™”
let mut settings = PageRankSettings::default();
settings.enable_personalized = true;

let engine = PageRankEngine::new(&settings);

// ì»¨í…ìŠ¤íŠ¸ ì„¤ì •
let mut context = ContextSet::new();
context.add_item(ContextItem::new(
    "auth/login.py".to_string(),
    ContextType::BugFix,
    1.0
));

let ppr = engine.compute_personalized_pagerank(&graph, &context);
```

### ì„±ëŠ¥ ì˜í–¥
- **ë¹„ìš©**: +100% (2ë°° ëŠë¦¼)
- **ì´ìœ **: PageRankë¥¼ í•œ ë²ˆ ë” ì‹¤í–‰

---

## 3ï¸âƒ£ HITS (Authority/Hub ë¶„ì„)

### ì—­í• 
ì½”ë“œë¥¼ **"ê¶Œìœ„"** vs **"ì¤‘ì‹¬"**ìœ¼ë¡œ êµ¬ë¶„

### ë™ì‘ ì›ë¦¬
```
Authority (ê¶Œìœ„):
  - ë§ì´ ì°¸ì¡°ë‹¹í•˜ëŠ” = ì¤‘ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬
  - ì˜ˆ: core/utils.py (ëª¨ë“  ê³³ì—ì„œ import)

Hub (ì¤‘ì‹¬):
  - ë§ì´ ì°¸ì¡°í•˜ëŠ” = í†µí•© ì§€ì 
  - ì˜ˆ: main.py (ë§ì€ ëª¨ë“ˆì„ import)
```

### ê²°ê³¼ ì˜ˆì‹œ
```
High Authority (í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬):
  - core/database.py
  - utils/validators.py
  - models/base.py
  â†’ ë§ì€ ê³³ì—ì„œ ì‚¬ìš©ë¨, ìˆ˜ì • ì‹œ ì£¼ì˜!

High Hub (í†µí•© ì½”ë“œ):
  - main.py
  - services/orchestrator.py
  - api/routes.py
  â†’ ë§ì€ ê²ƒì„ ì—°ê²°, ê²°í•©ë„ ë†’ìŒ
```

### ì‚¬ìš© ì‚¬ë¡€

#### âœ… í™œì„±í™”í•´ì•¼ í•  ë•Œ

**1. ì•„í‚¤í…ì²˜ ë¶„ì„**
```python
authority, hub = engine.compute_hits(graph)

# í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‹ë³„
top_authorities = sorted(authority.items(), key=lambda x: x[1], reverse=True)[:10]
print("í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ìˆ˜ì • ì£¼ì˜!):")
for file, score in top_authorities:
    print(f"  {file}: {score:.3f}")

# í†µí•© ì§€ì  ì‹ë³„
top_hubs = sorted(hub.items(), key=lambda x: x[1], reverse=True)[:10]
print("í†µí•© ì§€ì  (ê²°í•©ë„ ë†’ìŒ):")
for file, score in top_hubs:
    print(f"  {file}: {score:.3f}")
```

**2. ë¦¬íŒ©í† ë§ ìš°ì„ ìˆœìœ„**
```python
# Authority ë†’ìŒ â†’ ë¨¼ì € ë¦¬íŒ©í† ë§ (ì˜í–¥ í¼)
# Hub ë†’ìŒ â†’ ë¶„ë¦¬ ê³ ë ¤ (ê²°í•©ë„ ë‚®ì¶”ê¸°)
```

**3. í…ŒìŠ¤íŠ¸ ì „ëµ**
```python
# Authority ë†’ì€ ì½”ë“œ â†’ í†µí•© í…ŒìŠ¤íŠ¸ ê°•í™”
# Hub ë†’ì€ ì½”ë“œ â†’ ì¸í„°í˜ì´ìŠ¤ í…ŒìŠ¤íŠ¸
```

#### âŒ ë¹„í™œì„±í™”í•´ë„ ë˜ëŠ” ê²½ìš°

- ë‹¨ìˆœ ì¤‘ìš”ë„ë§Œ í•„ìš” (PageRankë¡œ ì¶©ë¶„)
- ë¹ ë¥¸ ì¸ë±ì‹± ìš°ì„ 
- Authority/Hub êµ¬ë¶„ ë¶ˆí•„ìš”

### ì„¤ì •
```rust
// í•„ìš”í•  ë•Œ í™œì„±í™”
let mut settings = PageRankSettings::default();
settings.enable_hits = true;

let engine = PageRankEngine::new(&settings);
let (authority, hub) = engine.compute_hits(&graph);

// Authority ë†’ì€ ìˆœ
let mut auth_vec: Vec<_> = authority.iter().collect();
auth_vec.sort_by(|a, b| b.1.partial_cmp(a.1).unwrap());

// Hub ë†’ì€ ìˆœ
let mut hub_vec: Vec<_> = hub.iter().collect();
hub_vec.sort_by(|a, b| b.1.partial_cmp(a.1).unwrap());
```

### ì„±ëŠ¥ ì˜í–¥
- **ë¹„ìš©**: +100% (2ë°° ëŠë¦¼)
- **ì´ìœ **: Authority/Hub ê°ê° iteration í•„ìš”

---

## ğŸ¯ ì‹œë‚˜ë¦¬ì˜¤ë³„ ê¶Œì¥ ì„¤ì •

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì´ˆê¸° ë¦¬í¬ì§€í† ë¦¬ ì¸ë±ì‹± (í˜„ì¬ ê¸°ë³¸ê°’)
```rust
PageRankSettings {
    enable_personalized: false,  // âœ…
    enable_hits: false,          // âœ…
    max_iterations: 5,
}
```
**ëª©ì **: ë¹ ë¥¸ ì¸ë±ì‹±
**ê²°ê³¼**: ì „ì—­ ì¤‘ìš”ë„ë§Œ
**ì„±ëŠ¥**: 1.0ì´ˆ (136K LOC)

---

### ì‹œë‚˜ë¦¬ì˜¤ 2: AI ì—ì´ì „íŠ¸ ë²„ê·¸ ìˆ˜ì •
```rust
PageRankSettings {
    enable_personalized: true,   // âœ… í™œì„±í™”!
    enable_hits: false,
    max_iterations: 5,
}
```
**ëª©ì **: ë²„ê·¸ íŒŒì¼ ì£¼ë³€ íƒìƒ‰
**ê²°ê³¼**: ê´€ë ¨ íŒŒì¼ ìš°ì„ ìˆœìœ„
**ì„±ëŠ¥**: 2.0ì´ˆ (2ë°°)

**ì‚¬ìš© ì˜ˆì‹œ**:
```rust
let mut context = ContextSet::new();
context.add_item(ContextItem::new(
    "auth/login.py".to_string(),
    ContextType::BugFix,
    1.0,
));

let ppr = engine.compute_personalized_pagerank(&graph, &context);
let top_related = get_top_n(&ppr, 10);
// â†’ AIê°€ ì´ 10ê°œ íŒŒì¼ ë¨¼ì € ì½ìŒ
```

---

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì•„í‚¤í…ì²˜ ë¦¬ë·°
```rust
PageRankSettings {
    enable_personalized: false,
    enable_hits: true,           // âœ… í™œì„±í™”!
    max_iterations: 5,
}
```
**ëª©ì **: Authority/Hub ë¶„ì„
**ê²°ê³¼**: í•µì‹¬ vs í†µí•© ì½”ë“œ êµ¬ë¶„
**ì„±ëŠ¥**: 2.0ì´ˆ (2ë°°)

**ë¶„ì„ ì˜ˆì‹œ**:
```rust
let (auth, hub) = engine.compute_hits(&graph);

// í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ìˆ˜ì • ì£¼ì˜)
println!("Top Authorities:");
for (file, score) in top_n(&auth, 5) {
    println!("  {}: {:.3f}", file, score);
}

// ê²°í•©ë„ ë†’ì€ ì½”ë“œ (ë¶„ë¦¬ ê³ ë ¤)
println!("Top Hubs:");
for (file, score) in top_n(&hub, 5) {
    println!("  {}: {:.3f}", file, score);
}
```

---

### ì‹œë‚˜ë¦¬ì˜¤ 4: í’€ ë¶„ì„ (ëª¨ë“  ê¸°ëŠ¥)
```rust
PageRankSettings {
    enable_personalized: true,   // âœ… ì „ë¶€ ON
    enable_hits: true,           // âœ…
    max_iterations: 10,          // ë†’ì€ ì •ë°€ë„
}
```
**ëª©ì **: ì™„ì „í•œ ë¶„ì„
**ê²°ê³¼**: ëª¨ë“  ë©”íŠ¸ë¦­
**ì„±ëŠ¥**: 3.8ì´ˆ (4ë°°) - **ëŠë¦¼!**

**ì–¸ì œ?**:
- ì£¼ê°„ ì•„í‚¤í…ì²˜ ë¦¬í¬íŠ¸
- ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§ ê³„íš
- ìƒì„¸ ì˜í–¥ ë¶„ì„

---

## ğŸ“Š ì„±ëŠ¥ ë¹„êµ (136K LOC ê¸°ì¤€)

| ì„¤ì • | PageRank | PPR | HITS | ì‹œê°„ | ì†ë„ |
|------|----------|-----|------|------|------|
| **ê¸°ë³¸** (í˜„ì¬) | âœ… | âŒ | âŒ | 1.0ì´ˆ | 1x |
| **AI ëª¨ë“œ** | âœ… | âœ… | âŒ | 2.0ì´ˆ | 0.5x |
| **ì•„í‚¤í…ì²˜ ëª¨ë“œ** | âœ… | âŒ | âœ… | 2.0ì´ˆ | 0.5x |
| **í’€ ë¶„ì„** | âœ… | âœ… | âœ… | 3.8ì´ˆ | 0.26x |

---

## ğŸ’¡ ê²°ë¡  ë° ê¶Œì¥ì‚¬í•­

### âœ… í˜„ì¬ ê¸°ë³¸ê°’ ìœ ì§€ (ì •ë‹µ!)

```rust
enable_personalized: false
enable_hits: false
```

**ì´ìœ **:
1. **ì´ˆê¸° ì¸ë±ì‹±ì€ ë¹ ë¥´ê²Œ** (1ì´ˆ)
2. **í•„ìš”í•  ë•Œë§Œ ì¼œê¸°** (on-demand)
3. **ëŒ€ë¶€ë¶„ì˜ ê²½ìš° PageRankë¡œ ì¶©ë¶„**

### ğŸ”§ í•„ìš” ì‹œ í™œì„±í™”

**Pythonì—ì„œ ì‚¬ìš© ì˜ˆì‹œ**:
```python
# Fast mode (ê¸°ë³¸)
config = E2EPipelineConfig()
# enable_personalized=False, enable_hits=False (ë¹ ë¦„)

# AI agent mode
config.pagerank_settings.enable_personalized = True
# ë²„ê·¸ ìˆ˜ì • ì‹œ ê´€ë ¨ íŒŒì¼ ì°¾ê¸°

# Architecture analysis mode
config.pagerank_settings.enable_hits = True
# Authority/Hub ë¶„ì„
```

### ğŸ“ˆ í–¥í›„ ê°œì„ 

1. **Auto-detect**: ì»¨í…ìŠ¤íŠ¸ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ PPR í™œì„±í™”
2. **Caching**: ì²« ì‹¤í–‰ ê²°ê³¼ ìºì‹œ, ì¦ë¶„ ì—…ë°ì´íŠ¸ë§Œ
3. **Selective**: ì¼ë¶€ íŒŒì¼ë§Œ PPR (ì „ì²´ ê·¸ë˜í”„ëŠ” PageRank)

---

**ì‘ì„±ì¼**: 2025-12-28
**ë¬¸ì„œ ë²„ì „**: 1.0
**ìƒíƒœ**: âœ… í”„ë¡œë•ì…˜ ê°€ì´ë“œ
